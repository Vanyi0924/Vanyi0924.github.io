import{_ as s,c as n,o as a,a as e}from"./app.e46a7e75.js";const x=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":3,"title":"\u4E00\u3001 \u751F\u6210\u4E00\u4E2A SSL \u8BC1\u4E66","slug":"\u4E00\u3001-\u751F\u6210\u4E00\u4E2A-ssl-\u8BC1\u4E66","link":"#\u4E00\u3001-\u751F\u6210\u4E00\u4E2A-ssl-\u8BC1\u4E66","children":[]},{"level":3,"title":"\u4E8C\u3001 Nginx \u914D\u7F6E","slug":"\u4E8C\u3001-nginx-\u914D\u7F6E","link":"#\u4E8C\u3001-nginx-\u914D\u7F6E","children":[]},{"level":3,"title":"\u95EE\u9898","slug":"\u95EE\u9898","link":"#\u95EE\u9898","children":[]}],"relativePath":"articles/\u8FD0\u7EF4/nginx \u914D\u7F6E ssl\u8BC1\u4E66.md"}'),l={name:"articles/\u8FD0\u7EF4/nginx \u914D\u7F6E ssl\u8BC1\u4E66.md"},p=e(`<h3 id="\u4E00\u3001-\u751F\u6210\u4E00\u4E2A-ssl-\u8BC1\u4E66" tabindex="-1">\u4E00\u3001 \u751F\u6210\u4E00\u4E2A SSL \u8BC1\u4E66 <a class="header-anchor" href="#\u4E00\u3001-\u751F\u6210\u4E00\u4E2A-ssl-\u8BC1\u4E66" aria-hidden="true">#</a></h3><p><code>openssl req -x509 -nodes -days 36500 -newkey rsa:2048 -keyout nginx.key -out nginx.crt</code> \u5B57\u6BB5\u542B\u4E49</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">Country \uFF0C\u5355\u4F4D\u6240\u5728\u56FD\u5BB6\uFF0C\u4E3A\u4E24\u4F4D\u6570\u7684\u56FD\u5BB6\u7F29\u5199\uFF0C\u5982\uFF1A CN \u5C31\u662F\u4E2D\u56FD</span></span>
<span class="line"><span style="color:#A6ACCD;">State/Province \uFF0C\u5355\u4F4D\u6240\u5728\u5DDE\u6216\u7701</span></span>
<span class="line"><span style="color:#A6ACCD;">Locality \uFF0C\u5355\u4F4D\u6240\u5728\u57CE\u5E02 / \u6216\u53BF\u533A</span></span>
<span class="line"><span style="color:#A6ACCD;">Organization \uFF0C\u6B64\u7F51\u7AD9\u7684\u5355\u4F4D\u540D\u79F0;</span></span>
<span class="line"><span style="color:#A6ACCD;">Organization Unit\uFF0C\u4E0B\u5C5E\u90E8\u95E8\u540D\u79F0;\u4E5F\u5E38\u5E38\u7528\u4E8E\u663E\u793A\u5176\u4ED6\u8BC1\u4E66\u76F8\u5173\u4FE1\u606F\uFF0C\u5982\u8BC1\u4E66\u7C7B\u578B\uFF0C\u8BC1\u4E66\u4EA7\u54C1\u540D\u79F0\u6216\u8EAB\u4EFD\u9A8C\u8BC1\u7C7B\u578B\u6216\u9A8C\u8BC1\u5185\u5BB9\u7B49;</span></span>
<span class="line"><span style="color:#A6ACCD;">Common Name \uFF0C\u7F51\u7AD9\u7684\u57DF\u540D;</span></span>
<span class="line"><span style="color:#A6ACCD;">Email Address \uFF0C\u90AE\u7BB1\u5730\u5740</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><p><a href="https://freessl.cn/" target="_blank" rel="noreferrer">freessl \u7533\u8BF7\u8BC1\u4E66</a></p><h3 id="\u4E8C\u3001-nginx-\u914D\u7F6E" tabindex="-1">\u4E8C\u3001 Nginx \u914D\u7F6E <a class="header-anchor" href="#\u4E8C\u3001-nginx-\u914D\u7F6E" aria-hidden="true">#</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><code><span class="line"><span style="color:#A6ACCD;">server{</span></span>
<span class="line"><span style="color:#A6ACCD;">  listen 443;</span></span>
<span class="line"><span style="color:#A6ACCD;">  server_name xxxx;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ssl on;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ssl_certificate /xxx/xxx.crt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ssl_certificate_key /xxx/xxx.key;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ssl_session_timeout 5m;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ssl_protocols TLSv1 TLSv1.1 TLSv1.2;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:HIGH:!aNULL:!MD5:!RC4:!DHE;</span></span>
<span class="line"><span style="color:#A6ACCD;">  ssl_prefer_server_ciphers on;</span></span>
<span class="line"><span style="color:#A6ACCD;">  location / {</span></span>
<span class="line"><span style="color:#A6ACCD;">      proxy_pass http://127.0.0.1:8080;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><h3 id="\u95EE\u9898" tabindex="-1">\u95EE\u9898 <a class="header-anchor" href="#\u95EE\u9898" aria-hidden="true">#</a></h3><p><code>nginx:[emerg]unknown directive ssl</code> \u9519\u8BEF\uFF0C\u539F\u56E0\u914D\u7F6E\u8FD9\u4E2ASSL\u8BC1\u4E66\u9700\u8981\u5F15\u7528\u5230nginx\u7684\u4E2DSSL\u8FD9\u6A21\u5757\uFF0C\u7136\u800C\u6211\u4EEC\u4E00\u5F00\u59CB\u7F16\u8BD1\u7684Nginx\u7684\u65F6\u5019\u5E76\u6CA1\u6709\u628ASSL\u6A21\u5757\u4E00\u8D77\u7F16\u8BD1\u8FDB\u53BB</p><p>\u89E3\u51B3\u6B65\u9AA4\uFF1A</p><ol><li>\u8FDB\u5165 nginx \u5B89\u88C5\u5305\u89E3\u538B\u76EE\u5F55 \u6267\u884C <code>./configure --with-http_ssl_module</code></li><li>\u6267\u884Cmake\u547D\u4EE4\u91CD\u65B0\u7F16\u8BD1\uFF0C\u4E0D\u8981\u6267\u884Cmake install \u4F1A\u8986\u76D6\u5B89\u88C5</li><li>\u5C06\u65B0\u7684 nginx \u547D\u4EE4\u66FF\u6362\u6389\u4E4B\u524D\u7684 <code>cp objs/nginx /usr/local/nginx/sbin/nginx</code></li><li>\u68C0\u67E5\u662F\u5426\u5B89\u88C5 ssl \u6A21\u5757 <code>nginx -V</code>\uFF0C\u91CD\u542F</li></ol>`,10),o=[p];function i(c,t,r,C,d,A){return a(),n("div",null,o)}const y=s(l,[["render",i]]);export{x as __pageData,y as default};
