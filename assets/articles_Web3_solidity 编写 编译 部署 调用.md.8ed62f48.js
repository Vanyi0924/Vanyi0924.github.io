import{_ as s,c as n,o as a,a as l}from"./app.eca13732.js";const i=JSON.parse('{"title":"solidity \u7F16\u5199 \u7F16\u8BD1 \u90E8\u7F72 \u8C03\u7528","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4E00\u3001\u7F16\u5199","slug":"\u4E00\u3001\u7F16\u5199","link":"#\u4E00\u3001\u7F16\u5199","children":[]},{"level":2,"title":"\u4E8C\u3001\u7F16\u8BD1","slug":"\u4E8C\u3001\u7F16\u8BD1","link":"#\u4E8C\u3001\u7F16\u8BD1","children":[{"level":3,"title":"\u65B9\u5F0F\u4E00\uFF1A \u4F7F\u7528 solc \u7F16\u8BD1","slug":"\u65B9\u5F0F\u4E00\uFF1A-\u4F7F\u7528-solc-\u7F16\u8BD1","link":"#\u65B9\u5F0F\u4E00\uFF1A-\u4F7F\u7528-solc-\u7F16\u8BD1","children":[]},{"level":3,"title":"\u65B9\u5F0F\u4E8C\uFF1A\u4F7F\u7528 remix \u5728\u7EBF\u7F16\u8BD1","slug":"\u65B9\u5F0F\u4E8C\uFF1A\u4F7F\u7528-remix-\u5728\u7EBF\u7F16\u8BD1","link":"#\u65B9\u5F0F\u4E8C\uFF1A\u4F7F\u7528-remix-\u5728\u7EBF\u7F16\u8BD1","children":[]}]},{"level":2,"title":"\u4E09\u3001\u90E8\u7F72","slug":"\u4E09\u3001\u90E8\u7F72","link":"#\u4E09\u3001\u90E8\u7F72","children":[{"level":3,"title":"\u573A\u666F\u4E00\u3001\u90E8\u7F72\u5230\u672C\u5730\u6D4B\u8BD5\u94FE","slug":"\u573A\u666F\u4E00\u3001\u90E8\u7F72\u5230\u672C\u5730\u6D4B\u8BD5\u94FE","link":"#\u573A\u666F\u4E00\u3001\u90E8\u7F72\u5230\u672C\u5730\u6D4B\u8BD5\u94FE","children":[]},{"level":3,"title":"\u573A\u666F\u4E8C\u3001\u90E8\u7F72\u5230\u6D4B\u8BD5\u94FE","slug":"\u573A\u666F\u4E8C\u3001\u90E8\u7F72\u5230\u6D4B\u8BD5\u94FE","link":"#\u573A\u666F\u4E8C\u3001\u90E8\u7F72\u5230\u6D4B\u8BD5\u94FE","children":[]}]},{"level":2,"title":"\u56DB\u3001\u8C03\u7528","slug":"\u56DB\u3001\u8C03\u7528","link":"#\u56DB\u3001\u8C03\u7528","children":[{"level":3,"title":"\u573A\u666F\u4E00\u3001\u672C\u5730\u8C03\u7528","slug":"\u573A\u666F\u4E00\u3001\u672C\u5730\u8C03\u7528","link":"#\u573A\u666F\u4E00\u3001\u672C\u5730\u8C03\u7528","children":[]},{"level":3,"title":"\u573A\u666F\u4E8C\u3001\u6D4B\u8BD5\u94FE\u8C03\u7528","slug":"\u573A\u666F\u4E8C\u3001\u6D4B\u8BD5\u94FE\u8C03\u7528","link":"#\u573A\u666F\u4E8C\u3001\u6D4B\u8BD5\u94FE\u8C03\u7528","children":[]}]}],"relativePath":"articles/Web3/solidity \u7F16\u5199 \u7F16\u8BD1 \u90E8\u7F72 \u8C03\u7528.md"}'),p={name:"articles/Web3/solidity \u7F16\u5199 \u7F16\u8BD1 \u90E8\u7F72 \u8C03\u7528.md"},o=l(`<h1 id="solidity-\u7F16\u5199-\u7F16\u8BD1-\u90E8\u7F72-\u8C03\u7528" tabindex="-1">solidity \u7F16\u5199 \u7F16\u8BD1 \u90E8\u7F72 \u8C03\u7528 <a class="header-anchor" href="#solidity-\u7F16\u5199-\u7F16\u8BD1-\u90E8\u7F72-\u8C03\u7528" aria-hidden="true">#</a></h1><h2 id="\u4E00\u3001\u7F16\u5199" tabindex="-1">\u4E00\u3001\u7F16\u5199 <a class="header-anchor" href="#\u4E00\u3001\u7F16\u5199" aria-hidden="true">#</a></h2><div class="language-solidity"><button title="Copy Code" class="copy"></button><span class="lang">solidity</span><pre><code><span class="line"><span style="color:#676E95;">// SPDX-License-Identifier: GPL-3.0</span></span>
<span class="line"><span style="color:#89DDFF;">pragma</span><span style="color:#A6ACCD;"> </span><span style="color:#F07178;">solidity</span><span style="color:#A6ACCD;"> &gt;=0.4.16 </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F78C6C;">0.8</span><span style="color:#89DDFF;">.</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u4E00\u4E2A\u7B80\u5355\u50A8\u5B58\u6570\u5B57\u7684 \u667A\u80FD\u5408\u7EA6</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// \u5173\u952E\u5B57 pragma \u7684\u542B\u4E49\u662F\uFF0C\u4E00\u822C\u6765\u8BF4\uFF0Cpragmas\uFF08\u7F16\u8BD1\u6307\u4EE4\uFF09\u662F\u544A\u77E5\u7F16\u8BD1\u5668\u5982\u4F55\u5904\u7406\u6E90\u4EE3\u7801\u7684\u6307\u4EE4\u7684</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">contract</span><span style="color:#FFCB6B;"> SimpleStorage</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">uint256</span><span style="color:#A6ACCD;"> storedData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">set</span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">uint256</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">x</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        storedData </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> x</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">get</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">view</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">returns</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#FFCB6B;">uint256</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> storedData</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="\u4E8C\u3001\u7F16\u8BD1" tabindex="-1">\u4E8C\u3001\u7F16\u8BD1 <a class="header-anchor" href="#\u4E8C\u3001\u7F16\u8BD1" aria-hidden="true">#</a></h2><h3 id="\u65B9\u5F0F\u4E00\uFF1A-\u4F7F\u7528-solc-\u7F16\u8BD1" tabindex="-1">\u65B9\u5F0F\u4E00\uFF1A \u4F7F\u7528 solc \u7F16\u8BD1 <a class="header-anchor" href="#\u65B9\u5F0F\u4E00\uFF1A-\u4F7F\u7528-solc-\u7F16\u8BD1" aria-hidden="true">#</a></h3><div class="language-shell"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre><code><span class="line"><span style="color:#A6ACCD;">solcjs --help</span></span>
<span class="line"><span style="color:#A6ACCD;">Usage: solcjs </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">options</span><span style="color:#89DDFF;">]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">Options:</span></span>
<span class="line"><span style="color:#A6ACCD;">  -V, --version                        output the version number</span></span>
<span class="line"><span style="color:#A6ACCD;">  --version                            Show version and exit.</span></span>
<span class="line"><span style="color:#A6ACCD;">  --optimize                           Enable bytecode optimizer.</span></span>
<span class="line"><span style="color:#A6ACCD;">  --bin                                Binary of the contracts </span><span style="color:#89DDFF;">in</span><span style="color:#A6ACCD;"> hex.</span></span>
<span class="line"><span style="color:#A6ACCD;">  --abi                                ABI of the contracts.</span></span>
<span class="line"><span style="color:#A6ACCD;">  --standard-json                      Turn on Standard JSON Input / Output mode.</span></span>
<span class="line"><span style="color:#A6ACCD;">  --base-path </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">path</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">                   Automatically resolve all imports inside the given path.</span></span>
<span class="line"><span style="color:#A6ACCD;">  -o, --output-dir </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">output-directory</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">  Output directory </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> the contracts.</span></span>
<span class="line"><span style="color:#A6ACCD;">  -h, --help                           output usage information</span></span>
<span class="line"></span></code></pre></div><p>\u6CE8\uFF1A<code>--base-path</code> \u8BBE\u7F6E\u7F16\u8BD1\u76EE\u5F55\uFF0C\u907F\u514D\u6253\u5305\u65F6 <code>import</code> \u627E\u5230\u4E0D\u5230\u76EE\u5F55</p><h3 id="\u65B9\u5F0F\u4E8C\uFF1A\u4F7F\u7528-remix-\u5728\u7EBF\u7F16\u8BD1" tabindex="-1">\u65B9\u5F0F\u4E8C\uFF1A\u4F7F\u7528 remix \u5728\u7EBF\u7F16\u8BD1 <a class="header-anchor" href="#\u65B9\u5F0F\u4E8C\uFF1A\u4F7F\u7528-remix-\u5728\u7EBF\u7F16\u8BD1" aria-hidden="true">#</a></h3><p><code>https://remix.ethereum.org/</code></p><h2 id="\u4E09\u3001\u90E8\u7F72" tabindex="-1">\u4E09\u3001\u90E8\u7F72 <a class="header-anchor" href="#\u4E09\u3001\u90E8\u7F72" aria-hidden="true">#</a></h2><h3 id="\u573A\u666F\u4E00\u3001\u90E8\u7F72\u5230\u672C\u5730\u6D4B\u8BD5\u94FE" tabindex="-1">\u573A\u666F\u4E00\u3001\u90E8\u7F72\u5230\u672C\u5730\u6D4B\u8BD5\u94FE <a class="header-anchor" href="#\u573A\u666F\u4E00\u3001\u90E8\u7F72\u5230\u672C\u5730\u6D4B\u8BD5\u94FE" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#676E95;">// \u5B9E\u4F8B\u5316\u4E00\u4E2A\u5408\u7EA6 abi \u5373 \u5E94\u7528\u4E8C\u8FDB\u5236\u63A5\u53E3</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> myContract </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">web3Instance</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eth</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Contract</span><span style="color:#A6ACCD;">(abi)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  myContract</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">deploy</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u90E8\u7F72\u5408\u7EA6</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> bin </span><span style="color:#676E95;">// \u5408\u7EA6\u5B57\u8282\u7801</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u53D1\u8D77\u4E00\u4E2A\u521B\u5EFA\u5408\u7EA6\u7684\u4EA4\u6613</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">address</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u8D26\u53F7</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">gas</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">then</span><span style="color:#A6ACCD;">(</span><span style="color:#A6ACCD;">newContractInstance</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span></code></pre></div><h3 id="\u573A\u666F\u4E8C\u3001\u90E8\u7F72\u5230\u6D4B\u8BD5\u94FE" tabindex="-1">\u573A\u666F\u4E8C\u3001\u90E8\u7F72\u5230\u6D4B\u8BD5\u94FE <a class="header-anchor" href="#\u573A\u666F\u4E8C\u3001\u90E8\u7F72\u5230\u6D4B\u8BD5\u94FE" aria-hidden="true">#</a></h3><p>\u901A\u8FC7 <code>https://remix.ethereum.org/</code> \u90E8\u7F72\u5230\u6D4B\u8BD5\u94FE</p><h2 id="\u56DB\u3001\u8C03\u7528" tabindex="-1">\u56DB\u3001\u8C03\u7528 <a class="header-anchor" href="#\u56DB\u3001\u8C03\u7528" aria-hidden="true">#</a></h2><h3 id="\u573A\u666F\u4E00\u3001\u672C\u5730\u8C03\u7528" tabindex="-1">\u573A\u666F\u4E00\u3001\u672C\u5730\u8C03\u7528 <a class="header-anchor" href="#\u573A\u666F\u4E00\u3001\u672C\u5730\u8C03\u7528" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#A6ACCD;">    async </span><span style="color:#82AAFF;">getValue</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">await</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">contractInstance</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">methods</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getVal</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">call</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">getVal</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    async </span><span style="color:#82AAFF;">setValue</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">await</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">contractInstance</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">methods</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setVal</span><span style="color:#F07178;">(</span><span style="color:#F78C6C;">9</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">send</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">        from</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">xxxx</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#676E95;">// \u63D0\u4F9Bgas\u7684\u8D26\u6237</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">res</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">() </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// web3 \u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">web3Instance</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Web3</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">Web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">givenProvider</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">||</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">http://127.0.0.1:7545</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// \u83B7\u53D6 \u667A\u80FD\u5408\u7EA6 \u5B9E\u4F8B contractAddress \u4E3A\u90E8\u7F72\u751F\u6210\u7684\u5730\u5740</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">contractInstance</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">web3Instance</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eth</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Contract</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">abi</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">contractAddress</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><h3 id="\u573A\u666F\u4E8C\u3001\u6D4B\u8BD5\u94FE\u8C03\u7528" tabindex="-1">\u573A\u666F\u4E8C\u3001\u6D4B\u8BD5\u94FE\u8C03\u7528 <a class="header-anchor" href="#\u573A\u666F\u4E8C\u3001\u6D4B\u8BD5\u94FE\u8C03\u7528" aria-hidden="true">#</a></h3><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><code><span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> encodedABI </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">contractInstance</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">methods</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u53C2\u6570</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">encodeABI</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> tx </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">from</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">address</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// \u5730\u5740</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">to</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u5408\u7EA6\u5730\u5740</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// contractAddress</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">gas</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">number</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">data</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> encodedABI</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">};</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">//  \u7B7E\u540D\u4EA4\u6613</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> signed </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eth</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">accounts</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">signTransaction</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">    tx</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\u5730\u5740\u79C1\u94A5</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  )</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;">//  \u53D1\u9001\u5DF2\u7B7E\u540D\u4EA4\u6613</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> trans </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">await</span><span style="color:#A6ACCD;"> web3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">eth</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">sendSignedTransaction</span><span style="color:#A6ACCD;">(signed</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">rawTransaction)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre></div>`,19),e=[o];function t(c,r,D,y,F,A){return a(),n("div",null,e)}const d=s(p,[["render",t]]);export{i as __pageData,d as default};
